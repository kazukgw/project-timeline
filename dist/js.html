<script>
let gs = google.script;
let rpcClient = new RPCClient(gs);
let visTLData = new VisTLData(rpcClient);

let sheetIdList = JSON.parse($('#data-sheet-id-list').text());

visTLData.initializeData(sheetIdList)
  .then(()=>{
    let visTL = new VisTL(rpcClient, visTLData);
    visTL.create(document.getElementById("container"),);

    setTimeout(()=>{
      visTL.visTL.setWindow(
        moment().subtract(2, 'month'),
        moment().add(10, 'month'));
    }, 1000);

    setTimeout(()=>{
      visTL.groupByLabel();
    }, 6000);
  });

function hideGroup(group) {
  console.log(`hide-btn click: group: ${group}`);
  visTLData.setVisibleFalseVisGroup(group);
}

function restoreHidden() {
  console.log(`btn-restoreHidden`);
  visTLData.setVisibleTrueAllVisGroup();
}
</script>

