<!DOCTYPE html>
<html>
  <head>
    <title><?= title ?></title>
    <?!= includeHtml('_assets') ?>
    <?!= includeHtml('_css') ?>
  </head>
  <body>
    <div id="main-container" class="container-fluid">
      <nav id="header" class="navbar fixed-top">
        <?= title ?>
      </nav>
      <nav id="button-bar" class="navbar fixed-top justify-content-start">
        <button id="mybtn-toggle-foldings" class="mybtn">
          Toggle Foldings
        </button>
        <span class="mybtn-separator"> | </span>
        <button id="mybtn-restore-hidden" class="mybtn">
          Restore Hidden Projects
        </button>
        <span class="mybtn-separator"> | </span>
        <button id="mybtn-group-by-projectgroup" class="mybtn">
          Group By ProjectGroup
        </button>
        <span class="mybtn-separator"> | </span>
        <button id="mybtn-group-by-label" class="mybtn">
          Group By Label
        </button>
        <span class="mybtn-separator"> | </span>
        <button id="mybtn-add-schedule" class="mybtn">
          Add Schedule
        </button>
        <span class="mybtn-separator"> | </span>
        <button id="mybtn-edit-schedule" class="mybtn">
          Edit Schedule
        </button>
        <span class="mybtn-separator"> | </span>
        <button id="mybtn-get-settings-as-url" class="mybtn">
          Get Settings As URL
        </button>
      </nav>
      <div id="vistl-container">
        <div id="spinner-wrapper"class="d-flex justify-content-center">
          <div class="spinner-border text-secondary" style="margin-top: 100px; width: 120px; height: 120px;" role="status">
            <span class="sr-only">Loading...</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Add Schedule Modal -->
    <div
      class="modal fade"
      id="modal-add-schedule"
      data-backdrop="static"
      tabindex="-1"
      role="dialog"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Add Schedule</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form id="form-add-schedule">
              <div class="form-group">
                <label for="form-add-schedule-project">Project</label>
                <br />
                <select
                  id="form-add-schedule-project"
                  class="form-control"
                  name="project"
                >
                </select>
              </div>

              <div class="form-group">
                <label for="form-add-schedule-project">Type</label>
                <br />
                <select
                  id="form-add-schedule-type"
                  class="form-control"
                  name="type"
                >
                  <option value="range"> Range (Default)</option>
                  <option value="point"> Point </option>
                </select>
              </div>

              <div class="form-group">
                <label for="form-add-schedule-title">Title</label>
                <input
                  type="text"
                  id="form-add-schedule-title"
                  class="form-control"
                  name="title"
                />
              </div>

              <div class="form-group">
                <label for="form-add-schedule-assignee">Assignee</label>
                <input
                  type="text"
                  id="form-add-schedule-assignee"
                  class="form-control"
                  name="title"
                />
              </div>

              <div class="form-group">
                <label for="form-add-schedule-link">Link</label>
                <input
                  type="text"
                  id="form-add-schedule-link"
                  class="form-control"
                  name="title"
                />
              </div>

              <div class="form-group">
                <label for="form-add-schedule-start">Start</label>
                <input
                  type="date"
                  id="form-add-schedule-start"
                  class="form-control"
                  name="start"
                />
              </div>

              <div class="form-group">
                <label for="form-add-schedule-end">End</label>
                <input
                  type="date"
                  id="form-add-schedule-end"
                  class="form-control"
                  name="end"
                />
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Cancel
            </button>
            <button
              id="form-add-schedule-button-add"
              type="button"
              class="btn btn-primary"
            >
              Add
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Edit Schedule Modal -->
    <div
      class="modal fade"
      id="modal-edit-schedule"
      data-backdrop="static"
      tabindex="-1"
      role="dialog"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Edit Schedule</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form id="form-edit-schedule">
              <div class="form-group">
                <label for="form-edit-schedule-id">ID</label>
                <input
                  type="text"
                  id="form-edit-schedule-id"
                  class="form-control"
                  name="id"
                  readonly
                />
              </div>

              <div class="form-group">
                <label for="form-edit-schedule-project">Project</label>
                <br />
                <select
                  id="form-edit-schedule-project"
                  class="form-control"
                  name="project"
                >
                </select>
              </div>

              <div class="form-group">
                <label for="form-edit-schedule-project">Type</label>
                <br />
                <select
                  id="form-edit-schedule-type"
                  class="form-control"
                  name="type"
                >
                  <option value="range"> Range (Default)</option>
                  <option value="point"> Point </option>
                </select>
              </div>

              <div class="form-group">
                <label for="form-edit-schedule-title">Title</label>
                <input
                  type="text"
                  id="form-edit-schedule-title"
                  class="form-control"
                  name="title"
                />
              </div>

              <div class="form-group">
                <label for="form-edit-schedule-assignee">Assignee</label>
                <input
                  type="text"
                  id="form-edit-schedule-assignee"
                  class="form-control"
                  name="title"
                />
              </div>

              <div class="form-group">
                <label for="form-edit-schedule-progress">Progress</label>
                <input
                  type="text"
                  id="form-edit-schedule-progress"
                  class="form-control"
                  name="progress"
                />
              </div>

              <div class="form-group">
                <label for="form-edit-schedule-link">Link</label>
                <input
                  type="text"
                  id="form-edit-schedule-link"
                  class="form-control"
                  name="Link"
                />
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Cancel
            </button>
            <button
              id="form-edit-schedule-button-update"
              type="button"
              class="btn btn-primary"
            >
              Update
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Settings URL Modal -->
    <div
      class="modal fade"
      id="modal-get-settings-as-url"
      data-backdrop="static"
      tabindex="-1"
      role="dialog"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Copy This URL</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form>
              <div class="form-group">
                <p> URL </p>
                <textarea
                  id="modal-get-settings-as-url-url"
                  class="form-control"
                  rows="6"
                  readonly
                >
                </textarea>
              </div>
              <div class="form-group">
                <p>With Range</p>
                <textarea
                  id="modal-get-settings-as-url-url-withrange"
                  class="form-control"
                  rows="6"
                  readonly
                >
                </textarea>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <script type="application/json" id="data-sheet-list">
      <?!= sheetList ?>
    </script>
    <script type="application/json" id="data-requestUrl">
      <?!= requestUrl ?>
    </script>

    <?!= includeHtml('_js_assets') ?>

    <script>
      <?!= includeHtml('_js_models') ?>

      <?!= includeHtml('_js_rpc') ?>

      <?!= includeHtml('_js_ui') ?>

      <?!= includeHtml('_js_entrypoint') ?>
    </script>
  </body>
</html>
